<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Vue.js 自定义指令</title>
    <script src="js/vue.min.js"></script>
</head>

<body>
    <!-- 除了默认设置的核心指令( v-model 和 v-show ), Vue 也允许注册自定义指令。
    下面我们注册一个全局指令 v-focus, 该指令的功能是在页面加载时，元素获得焦点： -->
    <div id="app-1">
        <p>页面载入时，input元素自动获取焦点：</p>
        <input v-focus>
    </div>
    <script>
        //注册一个全局指令 v-focus
        Vue.directive('focus', {
            //当绑定元素插入到DOM中。
            inserted: function (el) {
                //聚焦元素
                el.focus()
            }
        })
        //创建根实例
        new Vue({
            el: '#app-1'
        })
    </script>
    <!-- 也可以在实例使用 directives 选项来注册局部指令，这样指令只能在这个实例中使用： -->
    <div id="app-2">
        <p>页面载入时，input元素自动获取焦点</p>
        <input v-focus>
    </div>
    <script>
        //创建根实例
        new Vue({
            el: '#app-2',
            directives: {
                //注册一个局部的自定义指令 v-focus
                inserted: function (el) {
                    el.focus()
                }
            }
        })
    </script>
</body>

</html>